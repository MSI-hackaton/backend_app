# Educational hackathon project 2025 - Backend

## üè† –û –ø—Ä–æ–µ–∫—Ç–µ

–≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–∏–∫–ª–æ–º –∑–∞–∫–∞–∑–∞ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –∂–∏–ª–∏—â–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–ò–ñ–°). –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

### –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ü–∏—Ñ—Ä–æ–≤—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –∑–∞–∫–∞–∑–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ò–ñ–°
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–æ–π–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏


## üéØ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

1. **–ö–ª–∏–µ–Ω—Ç—ã** - –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –∑–∞–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞ –ò–ñ–°
2. **–ú–µ–Ω–µ–¥–∂–µ—Ä—ã/–ü—Ä–æ—Ä–∞–±—ã** - —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç
3. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** - —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–º–ø–∞–Ω–∏–µ–π

## üì± –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (–ø–ª–æ—â–∞–¥—å, —ç—Ç–∞–∂–Ω–æ—Å—Ç—å, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ (—Ñ–æ—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ

### 2. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ß–µ–∫-–ª–∏—Å—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫–∞–Ω–æ–≤/—Ñ–æ—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ SMS
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- –û–Ω–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è —Å–æ —Å—Ç—Ä–æ–π–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- –ß–∞—Ç —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç

### 4. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–æ–≤
- –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ì–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- **–Ø–∑—ã–∫:** Java 21
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Spring Boot 3.2.4
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 16
- **API:** RESTful + OpenAPI 3
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** JWT
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** Flyway


## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
backend_app/
‚îú‚îÄ‚îÄ src/main/java/dev/msi_hackaton/backend_app/
‚îÇ   ‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Spring
‚îÇ   ‚îú‚îÄ‚îÄ controller/       # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ request/     # DTO –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ response/    # DTO –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ entity/          # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ exception/       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ repository/      # Spring Data JPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ security/        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ src/main/resources/
‚îÇ   ‚îú‚îÄ‚îÄ db/migration/    # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ application.properties
‚îú‚îÄ‚îÄ uploads/             # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ docker-compose.yaml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Java 21** –∏–ª–∏ –≤—ã—à–µ
2. **Maven 3.9+**
3. **Docker** –∏ **Docker Compose** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
4. **PostgreSQL 16** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Docker)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd backend_app

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
docker compose up -d postgres

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
./run_migration.sh

# 4. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./mvnw clean package
java -jar target/backend_app-0.0.1-SNAPSHOT.jar

# –ò–õ–ò –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Maven
./mvnw spring-boot:run
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
createdb -U postgres stroycontrol

# 2. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
psql -U postgres -c "CREATE USER stroycontrol_user WITH PASSWORD 'stroycontrol_pass';"
psql -U postgres -c "GRANT ALL PRIVILEGES ON DATABASE stroycontrol TO stroycontrol_user;"

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
./mvnw flyway:migrate

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./mvnw spring-boot:run
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl http://localhost:8080/api/health

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
chmod +x test_api.sh
./test_api.sh
```

## üì° API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/v1/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/v1/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /api/v1/auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### –ü—Ä–æ–µ–∫—Ç—ã
- `GET /api/v1/projects` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `GET /api/v1/projects/{id}` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `POST /api/v1/projects` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–¥–º–∏–Ω)

### –ó–∞–∫–∞–∑—ã
- `POST /api/v1/orders` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `GET /api/v1/orders/user/{userId}` - –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/v1/orders/{orderId}/user/{userId}` - –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞

### –î–æ–∫—É–º–µ–Ω—Ç—ã
- `GET /api/v1/documents/order/{orderId}` - –î–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–∞
- `GET /api/v1/documents/order/{orderId}/pending` - –î–æ–∫—É–º–µ–Ω—Ç—ã –æ–∂–∏–¥–∞—é—â–∏–µ –ø–æ–¥–ø–∏—Å–∏
- `POST /api/v1/documents/order/{orderId}/upload` - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `POST /api/v1/documents/{documentId}/sign` - –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

### –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ
- `GET /api/v1/construction/order/{orderId}/stages` - –≠—Ç–∞–ø—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- `PATCH /api/v1/construction/stages/{stageId}/progress` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –ß–∞—Ç
- `POST /api/v1/chat/send` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- `GET /api/v1/chat/order/{orderId}` - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `GET /api/v1/notifications/user/{userId}` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/v1/notifications/{notificationId}/read` - –ü–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ

### –í–∏–¥–µ–æ
- `GET /api/v1/video/order/{orderId}/stream` - URL –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **JWT —Ç–æ–∫–µ–Ω—ã** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **BCrypt** –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- **HTTPS —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
- **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è frontend –¥–æ—Å—Ç—É–ø–∞

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
2. **projects** - –¢–∏–ø–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–æ–º–æ–≤
3. **orders** - –ó–∞–∫–∞–∑—ã –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ
4. **documents** - –î–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
5. **construction_stages** - –≠—Ç–∞–ø—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
6. **chat_messages** - –°–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
7. **notifications** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
8. **verification_codes** - –ö–æ–¥—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏–∏
- `V1__initial_schema.sql` - –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞
- `V2__add_sample_data.sql` - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- `V3__add_security_and_features.sql` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `V4__add_jpa_fixes.sql` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è JPA
- `V5__add_video_url_column.sql` - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç:
- 5 —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ–º–æ–≤
- –¢–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ivan@example.com / password)
- –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑
- –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
- –≠—Ç–∞–ø—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- –°–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ

### –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
./test_api.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤–∫–ª—é—á–∞—Ç—å:
# ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
# ‚úì –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
# ‚úì –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏
# ‚úì –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
# ‚úì –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç
# ‚úì –ß–∞—Ç –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### Swagger UI
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- **Swagger UI:** http://localhost:8080/swagger-ui/index.html
- **OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** http://localhost:8080/v3/api-docs

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X POST "http://localhost:8080/api/v1/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "phone": "+79161234567",
    "password": "password123"
  }'
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
```bash
curl -X POST "http://localhost:8080/api/v1/orders" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "projectId": 1,
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "phone": "+79161234567",
    "comment": "–•–æ—á—É –Ω–∞—á–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ",
    "address": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫"
  }'
```

## üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### Userflow 1: –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞—è–≤–∫–∞
1. –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
2. –ò–∑—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞
3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –∑–∞—è–≤–∫–∏
4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### Userflow 2: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–≥–æ–≤–æ—Ä–∞ –∏ —Å–º–µ—Ç—ã
3. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ SMS –∫–æ–¥
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è

### Userflow 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä–æ–π–∫–∏
1. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ —Å–æ —Å—Ç—Ä–æ–π–∫–∏
2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —ç—Ç–∞–ø–æ–≤
3. –û–±—â–µ–Ω–∏–µ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤ —á–∞—Ç–µ
4. –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Userflow 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
1. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –∞–∫—Ç–∞ –ø—Ä–∏–µ–º–∞-–ø–µ—Ä–µ–¥–∞—á–∏
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
3. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
4. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```properties
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
spring.datasource.url=jdbc:postgresql://localhost:5433/stroycontrol
spring.datasource.username=stroycontrol_user
spring.datasource.password=stroycontrol_pass

# JWT
jwt.secret=mySecretKeyThatIsAtLeast256BitsLongForSecurity1234567890
jwt.expiration=86400000

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# –ü—É—Ç—å –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫
app.upload.dir=uploads/
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
export SPRING_DATASOURCE_URL=jdbc:postgresql://prod-db:5432/stroycontrol_prod
export SPRING_DATASOURCE_USERNAME=prod_user
export SPRING_DATASOURCE_PASSWORD=strong_password
export JWT_SECRET=your_very_strong_secret_key_here
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `application.properties`:
```properties
logging.level.org.springframework=INFO
logging.level.dev.msi_hackaton.backend_app=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
```

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t stroycontrol-backend .

# –ó–∞–ø—É—Å–∫
docker run -p 8080:8080 \
  -e SPRING_DATASOURCE_URL=jdbc:postgresql://host.docker.internal:5432/stroycontrol \
  -e JWT_SECRET=your_secret \
  stroycontrol-backend
```

### Kubernetes (–ø—Ä–∏–º–µ—Ä –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞)
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: stroycontrol-backend
spec:
  replicas: 3
  selector:
    matchLabels:
      app: stroycontrol-backend
  template:
    metadata:
      labels:
        app: stroycontrol-backend
    spec:
      containers:
      - name: backend
        image: stroycontrol-backend:latest
        ports:
        - containerPort: 8080
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "prod"
```

